package com.company.xp;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.DisplayName;

import static org.junit.jupiter.api.Assertions.*;

/**
 * XP価値・原則の理解度確認テスト
 *
 * このテストは実際のコードテストではなく、
 * XPの価値と原則に関する理解度を確認するためのガイドです。
 * 各テストメソッドは、ディスカッションのためのプロンプトとして機能します。
 */
@DisplayName("XP価値・原則 理解度確認")
class XPAssessmentTest {

    @Test
    @DisplayName("価値1: コミュニケーション - 効果的な対話の実践")
    void assessCommunicationValue() {
        // 【ディスカッション課題】
        // 以下の状況で、XPの「コミュニケーション」の価値をどう実践しますか？

        // シナリオ1: ペアプログラミング中に相手の提案が理解できない
        // 回答例: 「すみません、その部分をもう一度説明していただけますか？」
        //         「私の理解では〇〇ということですが、合っていますか？」

        // シナリオ2: 複雑な仕様について確認したい
        // 回答例: 顧客や要件定義者に直接確認する
        //         チーム全体で理解を共有する

        // TODO: 研修参加者同士でディスカッションしてください
        assertTrue(true, "コミュニケーションの価値について議論完了");
    }

    @Test
    @DisplayName("価値2: シンプルさ - YAGNI原則の実践")
    void assessSimplicityValue() {
        // 【ディスカッション課題】
        // 以下のコード例で、XPの「シンプルさ」の価値に反する部分はありますか？

        String exampleCode = """
            // 例1: 将来の拡張を見越した過度な抽象化
            public abstract class DataProcessor {
                protected abstract void preProcess();
                protected abstract void process();
                protected abstract void postProcess();
                // 現在は1つの実装しか存在しない
            }

            // 例2: 現在不要な設定オプション
            public class Calculator {
                private boolean enableLogging = false;
                private String logFormat = "JSON";
                private int precision = 10;
                // ログ機能は現在未実装
            }
            """;

        // TODO: 研修参加者同士で以下について議論してください
        // - どの部分がYAGNI原則に反しているか？
        // - どうシンプルに改善できるか？
        // - シンプルさと拡張性のバランスはどう取るか？

        assertTrue(true, "シンプルさの価値について議論完了");
    }

    @Test
    @DisplayName("価値3: フィードバック - 早期発見の仕組み")
    void assessFeedbackValue() {
        // 【ディスカッション課題】
        // XPの「フィードバック」の価値を実現する具体的な方法を考えてください

        // 1. コードレベルのフィードバック
        // - ユニットテスト、統合テスト
        // - 静的解析ツール
        // - ペアプログラミング中のレビュー

        // 2. チームレベルのフィードバック
        // - 継続的統合
        // - デイリースタンドアップ
        // - 振り返り（レトロスペクティブ）

        // 3. 顧客・ユーザーレベルのフィードバック
        // - 頻繁なデモ
        // - ユーザーテスト
        // - プロトタイプでの検証

        // TODO: 各レベルでの具体的な実践方法を議論してください

        assertTrue(true, "フィードバックの価値について議論完了");
    }

    @Test
    @DisplayName("価値4: 勇気 - 必要な変更への取り組み")
    void assessCourageValue() {
        // 【ディスカッション課題】
        // 以下の状況で、XPの「勇気」の価値をどう発揮しますか？

        // シナリオ1: 既存のコードが複雑で理解が困難
        // シナリオ2: 設計変更により大幅なリファクタリングが必要
        // シナリオ3: チームメンバーの提案に疑問がある
        // シナリオ4: 締切が迫っているがバグを発見した

        // 考慮すべき点:
        // - テストがあるからこそ安全に変更できる
        // - 小さなステップなら失敗しても戻せる
        // - チームの支援があれば恐れる必要はない
        // - 長期的な品質を重視する

        // TODO: 各シナリオでの具体的な行動を議論してください

        assertTrue(true, "勇気の価値について議論完了");
    }

    @Test
    @DisplayName("価値5: 尊敬 - チーム協力の実現")
    void assessRespectValue() {
        // 【ディスカッション課題】
        // XPの「尊敬」の価値を示す具体的な行動を考えてください

        // 良い例:
        // - 相手の意見を最後まで聞く
        // - 建設的な批判とフィードバックを行う
        // - 相手の強みを認め、活かそうとする
        // - 間違いを責めず、改善に焦点を当てる

        // 悪い例:
        // - 相手の提案を頭ごなしに否定する
        // - 人格攻撃や感情的な批判をする
        // - 自分の意見だけを押し通そうとする
        // - ミスを個人の責任として追及する

        // TODO: 尊敬を示す具体的な行動や言葉遣いを議論してください

        assertTrue(true, "尊敬の価値について議論完了");
    }

    @Test
    @DisplayName("原則: 小さなステップ - リスク管理の実践")
    void assessBabyStepsPrinciple() {
        // 【ディスカッション課題】
        // 「小さなステップ」の原則を適用した開発の進め方を考えてください

        // 例：新機能の追加
        // × 悪い例: 一度に全ての機能を実装してからテスト
        // ○ 良い例: 基本機能 → テスト → 拡張機能 → テスト → ...

        // 例：リファクタリング
        // × 悪い例: クラス全体を一度に書き直し
        // ○ 良い例: メソッド単位で少しずつ改善

        // 利点:
        // - 問題の早期発見
        // - 失敗時の影響を最小化
        // - 継続的なフィードバック

        // TODO: 具体的な開発タスクをどう小さなステップに分割するか議論してください

        assertTrue(true, "小さなステップの原則について議論完了");
    }

    @Test
    @DisplayName("統合演習: 価値と原則の関係性")
    void assessValuePrincipleIntegration() {
        // 【総合ディスカッション課題】
        // XPの5つの価値と各原則がどう相互作用するかを考えてください

        // 例：TDD（テスト駆動開発）の場合
        // - シンプルさ: 最小限のコードで実装
        // - フィードバック: テストによる即座の確認
        // - 勇気: リファクタリングを恐れない
        // - 小さなステップ: Red-Green-Refactorサイクル

        // 例：ペアプログラミングの場合
        // - コミュニケーション: 積極的な対話
        // - 尊敬: パートナーの意見を尊重
        // - 多様性: 異なる視点の活用
        // - 責任の受け入れ: 共同での品質責任

        // TODO: 他のプラクティス（リファクタリング、継続的統合など）について
        //       価値と原則の関係を議論してください

        assertTrue(true, "価値と原則の統合的理解について議論完了");
    }

    @Test
    @DisplayName("実践課題: チーム内での価値・原則の浸透")
    void assessPracticalImplementation() {
        // 【実践的ディスカッション課題】
        // 実際のプロジェクトでXPの価値と原則をどう実践するかを考えてください

        // 考慮すべき課題:
        // - 既存のチームメンバーとの価値観の違い
        // - 組織の文化や制約
        // - 時間やリソースの制限
        // - 技術的な制約

        // 具体的なアクションプラン:
        // 1. まず何から始めるか？
        // 2. どうやってチームに浸透させるか？
        // 3. 成功をどう測定するか？
        // 4. 失敗や抵抗にどう対処するか？

        // TODO: 実際のプロジェクトでの導入計画を議論してください

        assertTrue(true, "実践的な導入について議論完了");
    }
}